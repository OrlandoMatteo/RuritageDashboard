/*!
 * Start Bootstrap - SB Admin 2 v4.1.0 (https://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

function InfrastrStyle(e,t){return L.marker(t,{riseOnHover:!0})}function onEachInfrastr(e,t){t.bindTooltip("Infrastructure",{sticky:!0});var r='<h4 id="title">'+e.properties.N_NAME+"</h4>",n=(r=r+'<b style="color:'+rmRColor(e.properties.RM_R_CODE)+'">'+rmRDict[e.properties.RM_R_CODE]+'</b><p><h6>Description</h6><font size="2">'+e.properties.INF_DESCRI+'</p><hr class="customHR">')+'<br><font size="2"><div id="extra"><font size="2"><p>';null!=e.properties.INF_TYPE&&null!=e.properties.INF_TYPE&&(n=n+"Infrastructure Type: "+infraTypeDict[e.properties.INF_TYPE]),null!=e.properties.INF_CAT&&null!=e.properties.INF_CAT&&(n=n+"<br>Category: "+e.properties.INF_CAT),null!=e.properties.NOTES&&null!=e.properties.NOTES&&(n=n+"<br>Notes: "+e.properties.NOTES),n=(n+="</p></div>").replace(/undefined/g,"Not available"),t.bindPopup(n),t.on("click",function(e){x=1!=e.target._latlngs[0].length?e.target._latlngs[0][0]:e.target._latlngs[0][0][0],clickedInfra&&clickedInfra.setStyle({weight:3});e.target;e.target.setStyle({weight:12}),clickedInfra=e.target})}function placeInfrastr(e){for(var t=0;t<e.features.length;t++){x=e.features[t];var r=L.geoJson(x,{onEachFeature:onEachInfrastr,pane:"Infrastr"}).addTo(main_map);r.setStyle({color:"#5a5a5a"}),Infrastr.addLayer(r)}}function addInfrastr(){bounds=main_map.getBounds();$.ajax({method:"GET",url:"/infrastrarea",data:{bounds:JSON.stringify(bounds)},dataType:"json",success:function(e){x=e,placeInfrastr(x)}})}function InfrastrStyleBuild(e,t){var r=L.icon({iconUrl:"img/Infra.png",iconSize:[42,42]});return L.marker(t,{icon:r,riseOnHover:!0})}function onEachInfrastrBuild(e,t){t.bindTooltip("Relevant public services",{sticky:!0});var r='<h4 id="title">'+e.properties.N_NAME+"</h4>",n=(r=r+'<b style="color:'+rmRColor(e.properties.RM_R_CODE)+'">'+rmRDict[e.properties.RM_R_CODE]+'</b><p><h6>Description</h6><font size="2">'+e.properties.INF_DESCRI+'</p><hr class="customHR">')+'<br><font size="2"><div id="extra"><font size="2"><p>';null!=e.properties.INF_TYPE&&null!=e.properties.INF_TYPE&&(n=n+"Infrastructure Type: "+infraTypeDict[e.properties.INF_TYPE]),null!=e.properties.INF_CAT&&null!=e.properties.INF_CAT&&(n=n+"<br>Category: "+e.properties.INF_CAT),null!=e.properties.NOTES&&null!=e.properties.NOTES&&(n=n+"<br>Notes: "+e.properties.NOTES),n=(n+="</p></div>").replace(/undefined/g,"Not available"),t.bindPopup(n),t.on("click",function(e){clickedInfra&&clickedInfra.setIcon(L.icon({iconUrl:"img/Infra.png",iconSize:[42,42]}));e.target;e.target.setIcon(L.icon({iconUrl:"img/Infra.png",iconSize:[60,60]})),clickedInfra=e.target})}function placeInfrastrBuild(e){for(var t=0;t<e.features.length;t++){x=e.features[t];var r=L.geoJson(x,{pointToLayer:InfrastrStyleBuild,onEachFeature:onEachInfrastrBuild,pane:"InfrastrBuild"}).addTo(main_map);InfrastrBuild.addLayer(r)}}function addInfrastrBuild(){bounds=main_map.getBounds();$.ajax({method:"GET",url:"/infrastrbuild",data:{bounds:JSON.stringify(bounds)},dataType:"json",success:function(e){x=e,placeInfrastrBuild(x)}})}function InfSiaStyle(e,t){return L.marker(t,{riseOnHover:!0})}function onEachInfSia(e,t){t.bindTooltip("RM/R Influence Area",{sticky:!0});var r='<h4 id="title">Area of influence</h4><br><hr class="customHR"><font size="2"><div id="extra"><font size="2"><b style="color:'+rmRColor(e.properties.RM_R_CODE)+'">'+rmRDict[e.properties.RM_R_CODE]+"</b><p><br>"+e.properties.NAME+"<p><br>Characterization "+charDict[e.properties.CHAR]+"<br>Notes : "+e.properties.NOTES+"</p></div>";r=r.replace(/undefined/g,"Not available"),t.bindPopup(r),t.on("click",function(e){clickedInfSIA&&clickedInfSIA.setStyle({weight:3});e.target;e.target.setStyle({weight:12}),clickedInfSIA=e.target})}function placeInfSia(e){for(var t=0;t<e.features.length;t++){x=e.features[t];var r=L.geoJson(x,{onEachFeature:onEachInfSia,pane:"InfSia"}).addTo(main_map);r.setStyle({color:"#6c5136"}),InfSia.addLayer(r)}}function addInfSia(){bounds=main_map.getBounds();$.ajax({method:"GET",url:"/infsia",data:{bounds:JSON.stringify(bounds)},dataType:"json",success:function(e){x=e,placeInfSia(x)}})}function OpenAirStyle(e,t){return L.marker(t,{riseOnHover:!0})}function onEachOpenAir(e,t){t.bindTooltip("Open air activities");var r='<h4 id="title">'+e.properties.NAME_ACT+"</h4>"+'<br><font size="2"><hr class="customHR"><div id="extra"><font size="2"><b style="color:'+rmRColor(e.properties.RM_R_CODE)+'">'+rmRDict[e.properties.RM_R_CODE]+"</b><p>Description:"+activityBuildDict[e.properties.ACTIVITY]+"<br>Characterization: "+charDict[e.properties.CHAR_SIA];null!=e.properties.PERIODIC&&null!=e.properties.PERIODIC&&"O"!=e.properties&&(r=r+"<br>Periodicity: "+eventPeriodDict[e.properties.PERIODIC]),null!=e.properties.TEMP_STA&&(r=r+"<br>Season: "+seasonDict[e.properties.TEMP_STA.substring(0,2)]+"</p></div>"),r=(r=r+"<br>Notes: "+e.properties.NOTES+"</p></div>").replace(/undefined/g,"Not available"),t.bindPopup(r),t.on("click",function(e){x=1!=e.target._latlngs[0].length?e.target._latlngs[0][0]:e.target._latlngs[0][0][0],clickedOpenAir&&clickedOpenAir.setStyle({weight:3});e.target;e.target.setStyle({weight:12}),clickedOpenAir=e.target})}function placeOpenAir(e){for(var t=0;t<e.features.length;t++){x=e.features[t];var r=L.geoJson(x,{onEachFeature:onEachOpenAir,pane:"OpenAir"}).addTo(main_map);r.setStyle({color:"#63ceff"}),OpenAir.addLayer(r)}}function addOpenAir(){bounds=main_map.getBounds();$.ajax({method:"GET",url:"/openair",data:{bounds:JSON.stringify(bounds)},dataType:"json",success:function(e){x=e,placeOpenAir(x)}})}function LandUseStyle(e,t){return L.marker(t,{riseOnHover:!0})}function onEachLandUse(e,t){t.bindTooltip("Land use");var r='<h4 id="title">Land Use</h4><br><font size="2"><hr class="customHR"><div id="extra"><font size="2"><b style="color:'+rmRColor(e.properties.RM_R_CODE)+'">'+rmRDict[e.properties.RM_R_CODE]+"</b><p>Description: "+landUseDict[e.properties.ACTIVITY];null!=e.properties.CHAR&&null!=e.properties.CHAR&&(r=r+"<br>Characterization: "+charDict[e.properties.CHAR]),null!=e.properties.NOTES&&null!=e.properties.NOTES&&(r=r+"<br>Notes: "+e.properties.NOTES),r=(r+="</a></p></div>").replace(/undefined/g,"Not available"),t.bindPopup(r),t.on("click",function(e){x=1!=e.target._latlngs[0].length?e.target._latlngs[0][0]:e.target._latlngs[0][0][0],clickedLandUse&&clickedLandUse.setStyle({weight:3});e.target;e.target.setStyle({weight:12}),clickedLandUse=e.target})}function placeLandUse(e){for(var t=0;t<e.features.length;t++){x=e.features[t];var r=L.geoJson(x,{onEachFeature:onEachLandUse,pane:"LandUse"}).addTo(main_map);r.setStyle({color:"#455424"}),LandUse.addLayer(r)}}function addLandUse(){bounds=main_map.getBounds();$.ajax({method:"GET",url:"/landuse",data:{bounds:JSON.stringify(bounds)},dataType:"json",success:function(e){x=e,placeLandUse(x)}})}function TourismStyle(e,t){var r=L.icon({iconUrl:"img/Tourism.png",iconSize:[42,42]});return L.marker(t,{icon:r,riseOnHover:!0})}function onEachTourism(e,t){t.bindTooltip("Tourism information point");var r='<h4 id="title">'+e.properties.NAME+"</h4>"+'<br><font size="2"><hr class="customHR"><div id="extra"><font size="2"><b style="color:'+rmRColor(e.properties.RM_R_CODE)+'">'+rmRDict[e.properties.RM_R_CODE]+"</b><p><br>Type: "+tourismDict[e.properties.TYPE]+"</p></div>";r=r.replace(/undefined/g,"Not available"),t.bindPopup(r),t.on("click",function(e){clickedTourism&&clickedTourism.setIcon(L.icon({iconUrl:"img/Tourism.png",iconSize:[42,42]}));e.target;e.target.setIcon(L.icon({iconUrl:"img/Tourism.png",iconSize:[60,60]})),clickedTourism=e.target})}function placeTourism(e){for(var t=0;t<e.features.length;t++){x=e.features[t];var r=L.geoJson(x,{pointToLayer:TourismStyle,onEachFeature:onEachTourism,pane:"Tourism"}).addTo(main_map);Tourism.addLayer(r)}}function addTourism(){bounds=main_map.getBounds();$.ajax({method:"GET",url:"/tourism",data:{bounds:JSON.stringify(bounds)},dataType:"json",success:function(e){x=e,placeTourism(x)}})}function RouteStyle(e,t){return L.marker(t,{riseOnHover:!0})}function onEachRoute(e,t){t.bindTooltip("Route");var r='<h4 id="title">'+e.properties.N_NAME+"</h4>"+'<br><font size="2"><hr class="customHR"><div id="extra"><font size="2"><b style="color:'+rmRColor(e.properties.RM_R_CODE)+'">'+rmRDict[e.properties.RM_R_CODE]+"</b><p>";null!=e.properties.CHAR_SIA&&null!=e.properties.CHAR_SIA&&(r=r+"<br>Characterization: "+charDict[e.properties.CHAR_SIA]),null!=e.properties.NOTES&&null!=e.properties.NOTES&&(r=r+"<br>Notes: "+e.properties.NOTES),null!=e.properties.START&&null!=e.properties.START&&(r=r+"<br>Start :"+e.properties.START),null!=e.properties.END&&null!=e.properties.END&&(r=r+"<br>End: "+e.properties.END),r=(r+="</p></div>").replace(/undefined/g,"Not available"),t.bindPopup(r),t.on("click",function(e){clickedRoute&&clickedRoute.setStyle({weight:3});e.target;e.target.setStyle({weight:12}),clickedRoute=e.target})}function placeRoute(e){for(var t=0;t<e.features.length;t++){x=e.features[t];var r=L.geoJson(x,{style:{color:"#633d03",weight:5,opacity:1,dashArray:[2,7]},onEachFeature:onEachRoute,pane:"Route"}).addTo(main_map);Route.addLayer(r)}}function addRoute(){bounds=main_map.getBounds();$.ajax({method:"GET",url:"/route",data:{bounds:JSON.stringify(bounds)},dataType:"json",success:function(e){x=e,placeRoute(x)}})}function ChangeStyle(e,t){return L.marker(t,{riseOnHover:!0})}function onEachChange(e,t){t.bindTooltip("Main changes");var r='<h4 id="title">'+e.properties.N_NAME+"</h4>"+'<br><font size="2"><hr class="customHR"><div id="extra"><font size="2"><b style="color:'+rmRColor(e.properties.RM_R_CODE)+'">'+rmRDict[e.properties.RM_R_CODE]+"</b><p><br>Description: "+e.properties.CHANGE1+" - "+e.properties.EXP1+"</p></div>";r=r.replace(/undefined/g,"Not available"),t.bindPopup(r),t.on("click",function(e){clickedChange&&clickedChange.setStyle({weight:3});e.target;e.target.setStyle({weight:12}),clickedChange=e.target})}function placeChange(e){for(var t=0;t<e.features.length;t++){x=e.features[t];var r=L.geoJson(x,{onEachFeature:onEachChange,pane:"Change"}).addTo(main_map);r.setStyle({color:"#ddff00"}),Change.addLayer(r)}}function addChange(){bounds=main_map.getBounds();$.ajax({method:"GET",url:"/change",data:{bounds:JSON.stringify(bounds)},dataType:"json",success:function(e){x=e,placeChange(x)}})}function onEachNatura(e,t){t.bindTooltip("Natura2000");var r='<h4 id="title">'+e.properties.SITENAME+"</h4>"+'<br><hr class="customHR">';"A"==e.properties.SITETYPE&&(r+="<br>SPA (Special Protection Areas)"),"B"==e.properties.SITETYPE&&(r+="<br>SCI (Special Conservation Importance)"),"C"==e.properties.SITETYPE&&(r+="<br>SPA (Special Protection Areas)<br>SCI (Special Conservation Importance)"),t.bindPopup(r),t.on("click",function(e){clickedNatura&&clickedNatura.setStyle({weight:3});e.target;e.target.setStyle({weight:12}),clickedNatura=e.target})}function placeNatura(e){for(var t=0;t<e.naturaSites.length;t++){x=e.naturaSites[t];var r=L.geoJson(x,{onEachFeature:onEachNatura,pane:"Natura"}).addTo(main_map);r.setStyle({color:"#82014e"}),Natura.addLayer(r)}}function addNatura2000(){$.ajax({method:"GET",url:"/natura",dataType:"json",success:function(e){x=e,placeNatura(x)}})}function EventsStyle(e,t){var r=L.icon({iconUrl:"img/Events.png",iconSize:[42,42]});return L.marker(t,{icon:r,riseOnHover:!0})}function onEachEvent(e,t){t.bindTooltip("Event");var r='<h4 id="title">'+e.properties.EVE_NAME+"</h4>"+'<br><font size="2"><hr class="customHR"><div id="extra"><font size="2"><b style="color:'+rmRColor(e.properties.RM_R_CODE)+'">'+rmRDict[e.properties.RM_R_CODE]+"</b><p>";null!=e.properties.EVE_DESCRI&&null!=e.properties.EVE_DESCRI&&(r=r+"Description: "+e.properties.EVE_DESCRI),null!=e.properties.EVE_TYPE&&null!=e.properties.EVE_TYPE&&(r=r+"<br>Type: "+eventTypeDict[e.properties.EVE_TYPE]),null!=e.properties.EVE_DATING&&null!=e.properties.EVE_DATING&&(r=r+"<br>"+e.properties.EVE_DATING),null!=e.properties.NOTES&&null!=e.properties.NOTES&&(r=r+"<br>Notes: "+e.properties.NOTES),r=(r+="</p></div>").replace(/undefined/g,"Not available"),t.bindPopup(r),t.on("click",function(e){clickedEvent&&clickedEvent.setIcon(L.icon({iconUrl:"img/Events.png",iconSize:[42,42]}));e.target;e.target.setIcon(L.icon({iconUrl:"img/Events.png",iconSize:[60,60]})),clickedEvent=e.target})}function placeEvents(e){for(var t=0;t<e.features.length;t++){x=e.features[t];var r=L.geoJson(x,{pointToLayer:EventsStyle,onEachFeature:onEachEvent,pane:"Events"}).addTo(main_map);Events.addLayer(r)}}function addEvents(){bounds=main_map.getBounds();$.ajax({method:"GET",url:"/events",data:{bounds:JSON.stringify(bounds)},dataType:"json",success:function(e){x=e,placeEvents(x)}})}function addNearTown(){bounds=main_map.getBounds();$.ajax({method:"GET",url:"/ntown",data:{bounds:JSON.stringify(bounds)},dataType:"json",success:function(e){x=e,placeTowns(x)}})}function onEachRiskZone(e,t){t.bindTooltip("Natural risk zone");var r='<h4 id="title">'+e.properties.NAME+"</h4>"+'<br><font size="2"><hr class="customHR"><div id="extra"><font size="2"><b style="color:'+rmRColor(e.properties.RM_R_CODE)+'">'+rmRDict[e.properties.RM_R_CODE]+"</b>";null!=e.properties.NOTES&&null!=e.properties.NOTES&&(r=r+"<br>Description: "+e.properties.NOTES),r=(r+="</a></p></div>").replace(/undefined/g,"Not available"),t.bindPopup(r),t.on("click",function(e){x=1!=e.target._latlngs[0].length?e.target._latlngs[0][0]:e.target._latlngs[0][0][0],clickedLandUse&&clickedLandUse.setStyle({weight:3});e.target;e.target.setStyle({weight:12}),clickedLandUse=e.target})}function placeRiskZone(e){for(var t=0;t<e.sites.length;t++){x=e.sites[t];var r=L.geoJson(x,{onEachFeature:onEachRiskZone,pane:"LandUse"}).addTo(main_map);r.setStyle({color:"#455424"}),LandUse.addLayer(r)}}function addRiskZone(){bounds=main_map.getBounds();$.ajax({method:"GET",url:"/queryriskareas",data:{bounds:JSON.stringify(bounds)},dataType:"json",success:function(e){x=e,placeRiskZone(x)}})}function addElemsOfDist(){bounds=main_map.getBounds();$.ajax({method:"GET",url:"/elemofdist",data:{bounds:JSON.stringify(bounds)},dataType:"json",success:function(e){x=e,placeElemsOfDist(x)}})}function placeElemsOfDist(e){for(var t=0;t<e.features.length;t++){x=e.features[t];var r=L.geoJson(x,{pointToLayer:ElemsOfDistStyle,onEachFeature:onEachElemsOfDist,pane:"Events"}).addTo(main_map);Events.addLayer(r)}}function ElemsOfDistStyle(e,t){var r=L.icon({iconUrl:"img/elemOfDist.png",iconSize:[42,42]});return L.marker(t,{icon:r,riseOnHover:!0})}function onEachElemsOfDist(e,t){t.bindTooltip("Element of disturbance");var r='<h4 id="title">'+e.properties.NOTES+"</h4>"+'<br><font size="2"><hr class="customHR"><div id="extra"><font size="2"><b style="color:'+rmRColor(e.properties.RM_R_CODE)+'">'+rmRDict[e.properties.RM_R_CODE]+"</b><p>";t.bindPopup(r),t.on("click",function(e){clickedElem&&clickedElem.setIcon(L.icon({iconUrl:"img/elemOfDist.png",iconSize:[42,42]}));e.target;e.target.setIcon(L.icon({iconUrl:"img/elemOfDist.png",iconSize:[60,60]})),clickedElem=e.target})}