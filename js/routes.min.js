/*!
 * Start Bootstrap - SB Admin 2 v4.1.0 (https://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

function routesStats(){var e=selectRMR.selected();$.ajax({method:"GET",url:api_url+"/queryroutes",data:{rm_r:JSON.stringify(e)},dataType:"json",success:function(e){placeRoute(e),updateRoutesStats(e)}})}function onEachRoute(e,t){t.bindTooltip("Route");var r='<h4 id="title">'+e.properties.N_NAME+"</h4>"+'<br><font size="2"><hr class="customHR"><div id="extra"><font size="2"><b style="color:'+rmRColor(e.properties.RM_R_CODE)+'">'+rmRDict[e.properties.RM_R_CODE]+"</b><p>";null!=e.properties.CHAR_SIA&&null!=e.properties.CHAR_SIA&&(r=r+"<br>Characterization: "+charDict[e.properties.CHAR_SIA]),null!=e.properties.NOTES&&null!=e.properties.NOTES&&(r=r+"<br>Notes: "+e.properties.NOTES),null!=e.properties.START&&null!=e.properties.START&&(r=r+"<br>Start :"+e.properties.START),null!=e.properties.END&&null!=e.properties.END&&(r=r+"<br>End: "+e.properties.END),r=(r+="</p></div>").replace(/undefined/g,"Not available"),t.bindPopup(r),t.on("click",function(e){clickedRoute&&clickedRoute.setStyle({weight:3});e.target;e.target.setStyle({weight:12}),clickedRoute=e.target})}function placeRoute(e){for(var t=0;t<e.routes.length;t++){x=e.routes[t];L.geoJson(x,{style:{color:"#633d03",weight:5,opacity:1,dashArray:[2,7]},onEachFeature:onEachRoute}).addTo(main_map)}}function updateRoutesStats(e){centroid=[e.centroid.geometry.coordinates[1],e.centroid.geometry.coordinates[0]],main_map.setView(centroid,8)}