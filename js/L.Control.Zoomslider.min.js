/*!
 * Start Bootstrap - SB Admin 2 v4.1.0 (https://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

!function(t){var o;if("function"==typeof define&&define.amd)define(["leaflet"],t);else if("undefined"!=typeof module)o=require("leaflet"),module.exports=t(o);else{if(void 0===window.L)throw new Error("Leaflet must be loaded first");t(window.L)}}(function(s){"use strict";var o;s.Control.Zoomslider=(o=s.Draggable.extend({initialize:function(t,o,i){s.Draggable.prototype.initialize.call(this,t,t),this._element=t,this._stepHeight=o,this._knobHeight=i,this.on("predrag",function(){this._newPos.x=0,this._newPos.y=this._adjust(this._newPos.y)},this)},_adjust:function(t){var o=Math.round(this._toValue(t));return o=Math.max(0,Math.min(this._maxValue,o)),this._toY(o)},_toY:function(t){return this._k*t+this._m},_toValue:function(t){return(t-this._m)/this._k},setSteps:function(t){var o=t*this._stepHeight;this._maxValue=t-1,this._k=-this._stepHeight,this._m=o-(this._stepHeight+this._knobHeight)/2},setPosition:function(t){s.DomUtil.setPosition(this._element,s.point(0,this._adjust(t)))},setValue:function(t){this.setPosition(this._toY(t))},getValue:function(){return this._toValue(s.DomUtil.getPosition(this._element).y)}}),s.Control.extend({options:{position:"topleft",stepHeight:8,knobHeight:6,styleNS:"leaflet-control-zoomslider"},onAdd:function(t){return this._map=t,this._ui=this._createUI(),this._knob=new o(this._ui.knob,this.options.stepHeight,this.options.knobHeight),t.whenReady(this._initKnob,this).whenReady(this._initEvents,this).whenReady(this._updateSize,this).whenReady(this._updateKnobValue,this).whenReady(this._updateDisabled,this),this._ui.bar},onRemove:function(t){t.off("zoomlevelschange",this._updateSize,this).off("zoomend zoomlevelschange",this._updateKnobValue,this).off("zoomend zoomlevelschange",this._updateDisabled,this)},_createUI:function(){var t={},o=this.options.styleNS;return t.bar=s.DomUtil.create("div",o+" leaflet-bar"),t.zoomIn=this._createZoomBtn("in","top",t.bar),t.wrap=s.DomUtil.create("div",o+"-wrap leaflet-bar-part",t.bar),t.zoomOut=this._createZoomBtn("out","bottom",t.bar),t.body=s.DomUtil.create("div",o+"-body",t.wrap),t.knob=s.DomUtil.create("div",o+"-knob"),s.DomEvent.disableClickPropagation(t.bar),s.DomEvent.disableClickPropagation(t.knob),t},_createZoomBtn:function(t,o,i){var e=this.options.styleNS+"-"+t+" leaflet-bar-part leaflet-bar-part-"+o,n=s.DomUtil.create("a",e,i);return n.href="#",n.title="Zoom "+t,s.DomEvent.on(n,"click",s.DomEvent.preventDefault),n},_initKnob:function(){this._knob.enable(),this._ui.body.appendChild(this._ui.knob)},_initEvents:function(){this._map.on("zoomlevelschange",this._updateSize,this).on("zoomend zoomlevelschange",this._updateKnobValue,this).on("zoomend zoomlevelschange",this._updateDisabled,this),s.DomEvent.on(this._ui.body,"click",this._onSliderClick,this),s.DomEvent.on(this._ui.zoomIn,"click",this._zoomIn,this),s.DomEvent.on(this._ui.zoomOut,"click",this._zoomOut,this),this._knob.on("dragend",this._updateMapZoom,this)},_onSliderClick:function(t){var o=t.touches&&1===t.touches.length?t.touches[0]:t,i=s.DomEvent.getMousePosition(o,this._ui.body).y;this._knob.setPosition(i),this._updateMapZoom()},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_zoomLevels:function(){var t=this._map.getMaxZoom()-this._map.getMinZoom()+1;return t<1/0?t:0},_toZoomLevel:function(t){return t+this._map.getMinZoom()},_toValue:function(t){return t-this._map.getMinZoom()},_updateSize:function(){var t=this._zoomLevels();this._ui.body.style.height=this.options.stepHeight*t+"px",this._knob.setSteps(t)},_updateMapZoom:function(){this._map.setZoom(this._toZoomLevel(this._knob.getValue()))},_updateKnobValue:function(){this._knob.setValue(this._toValue(this._map.getZoom()))},_updateDisabled:function(){var t=this._map.getZoom(),o=this.options.styleNS+"-disabled";s.DomUtil.removeClass(this._ui.zoomIn,o),s.DomUtil.removeClass(this._ui.zoomOut,o),t===this._map.getMinZoom()&&s.DomUtil.addClass(this._ui.zoomOut,o),t===this._map.getMaxZoom()&&s.DomUtil.addClass(this._ui.zoomIn,o)}})),s.Map.addInitHook(function(){this.options.zoomsliderControl&&(this.zoomsliderControl=new s.Control.Zoomslider,this.addControl(this.zoomsliderControl))}),s.control.zoomslider=function(t){return new s.Control.Zoomslider(t)}});