/*!
 * Start Bootstrap - SB Admin 2 v4.1.0 (https://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

THREE.DDSLoader=function(r){THREE.CompressedTextureLoader.call(this,r),this._parser=THREE.DDSLoader.parse},THREE.DDSLoader.prototype=Object.create(THREE.CompressedTextureLoader.prototype),THREE.DDSLoader.prototype.constructor=THREE.DDSLoader,THREE.DDSLoader.parse=function(r,a){var e={mipmaps:[],width:0,height:0,format:null,mipmapCount:1};function o(r){return r.charCodeAt(0)+(r.charCodeAt(1)<<8)+(r.charCodeAt(2)<<16)+(r.charCodeAt(3)<<24)}function t(r,a,e,o){for(var t=e*o*4,n=new Uint8Array(r,a,t),m=new Uint8Array(t),i=0,p=0,E=0;E<o;E++)for(var s=0;s<e;s++){var d=n[p],u=n[++p],T=n[++p],c=n[++p];p++,m[i]=T,m[++i]=u,m[++i]=d,m[++i]=c,i++}return m}var n,m=o("DXT1"),i=o("DXT3"),p=o("DXT5"),E=o("ETC1"),s=new Int32Array(r,0,31);if(542327876!==s[0])return console.error("THREE.DDSLoader.parse: Invalid magic number in DDS header."),e;if(4&!s[20])return console.error("THREE.DDSLoader.parse: Unsupported format, must contain a FourCC code."),e;var d,u=s[21],T=!1;switch(u){case m:n=8,e.format=THREE.RGB_S3TC_DXT1_Format;break;case i:n=16,e.format=THREE.RGBA_S3TC_DXT3_Format;break;case p:n=16,e.format=THREE.RGBA_S3TC_DXT5_Format;break;case E:n=8,e.format=THREE.RGB_ETC1_Format;break;default:if(!(32===s[22]&&16711680&s[23]&&65280&s[24]&&255&s[25]&&4278190080&s[26]))return console.error("THREE.DDSLoader.parse: Unsupported FourCC code ",(d=u,String.fromCharCode(255&d,d>>8&255,d>>16&255,d>>24&255))),e;T=!0,n=64,e.format=THREE.RGBAFormat}e.mipmapCount=1,131072&s[2]&&!1!==a&&(e.mipmapCount=Math.max(1,s[7]));var c=s[28];if(e.isCubemap=!!(512&c),e.isCubemap&&(!(1024&c)||!(2048&c)||!(4096&c)||!(8192&c)||!(16384&c)||!(32768&c)))return console.error("THREE.DDSLoader.parse: Incomplete cubemap faces"),e;e.width=s[4],e.height=s[3];for(var h=s[1]+4,D=e.isCubemap?6:1,C=0;C<D;C++)for(var f=e.width,R=e.height,H=0;H<e.mipmapCount;H++){if(T)var S=(l=t(r,h,f,R)).length;else{S=Math.max(4,f)/4*Math.max(4,R)/4*n;var l=new Uint8Array(r,h,S)}var v={data:l,width:f,height:R};e.mipmaps.push(v),h+=S,f=Math.max(f>>1,1),R=Math.max(R>>1,1)}return e};